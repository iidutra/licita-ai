{% load static widget_tweaks %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}LicitaAI{% endblock %}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
  <link href="{% static 'css/style.css' %}" rel="stylesheet">
  {% block extra_css %}{% endblock %}
</head>
<body>
  <!-- Sidebar (hidden on mobile via CSS) -->
  <nav class="sidebar d-none d-md-block" aria-label="Menu principal">
    <div class="brand">LicitaAI</div>
    <hr class="border-secondary mx-3">
    <a href="{% url 'opportunities:list' %}" class="{% if request.resolver_match.app_name == 'opportunities' %}active{% endif %}">
      <i class="bi bi-briefcase me-2"></i> Oportunidades
    </a>
    <a href="{% url 'clients:list' %}" class="{% if request.resolver_match.app_name == 'clients' %}active{% endif %}">
      <i class="bi bi-people me-2"></i> Clientes
    </a>
    <a href="{% url 'admin:index' %}">
      <i class="bi bi-gear me-2"></i> Admin
    </a>
    <hr class="border-secondary mx-3">
    <a href="{% url 'logout' %}">
      <i class="bi bi-box-arrow-left me-2"></i> Sair
    </a>
  </nav>

  <!-- Mobile header (shown < md) -->
  <div class="d-md-none d-flex align-items-center justify-content-between px-3 py-2" style="background:var(--la-dark);">
    <span style="color:#60a5fa;font-weight:700;">LicitaAI</span>
    <div class="d-flex gap-3">
      <a href="{% url 'opportunities:list' %}" class="text-light small"><i class="bi bi-briefcase"></i></a>
      <a href="{% url 'clients:list' %}" class="text-light small"><i class="bi bi-people"></i></a>
      <a href="{% url 'logout' %}" class="text-light small"><i class="bi bi-box-arrow-left"></i></a>
    </div>
  </div>

  <!-- Main content -->
  <div class="main-content">
    {% if messages %}
    <div class="mb-3">
      {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show py-2" role="alert" style="font-size:.85rem;">
        {{ message }}
        <button type="button" class="btn-close btn-close-sm" data-bs-dismiss="alert" aria-label="Fechar"></button>
      </div>
      {% endfor %}
    </div>
    {% endif %}

    {% block content %}{% endblock %}
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="{% static 'js/app.js' %}"></script>
  {% block extra_js %}{% endblock %}
</body>
</html>
